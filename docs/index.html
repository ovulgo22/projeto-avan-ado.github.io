<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Big Bang Cinemático Canvas 2D</title>
<style>
body, html {
  margin:0; padding:0;
  width:100%; height:100%;
  background:black;
  overflow:hidden;
}
canvas {
  display:block;
}
</style>
</head>
<body>
<canvas id="universe"></canvas>

<script>
const canvas = document.getElementById('universe');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
const width = canvas.width;
const height = canvas.height;

const particles = [];
const galaxies = [];
const nebulas = [];

class Particle {
  constructor(x, y, vx, vy, size, color, glow=false){
    this.x = x;
    this.y = y;
    this.vx = vx;
    this.vy = vy;
    this.size = size;
    this.color = color;
    this.glow = glow;
  }
  update(){
    this.x += this.vx;
    this.y += this.vy;
  }
  draw(){
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
    if(this.glow){
      ctx.shadowColor = this.color;
      ctx.shadowBlur = this.size*4;
    }
    ctx.fillStyle = this.color;
    ctx.fill();
    ctx.shadowBlur = 0;
  }
}

// Função para criar partículas iniciais do Big Bang
function createInitialParticles(num){
  for(let i=0;i<num;i++){
    const angle = Math.random()*Math.PI*2;
    const speed = Math.random()*3+1;
    const vx = Math.cos(angle)*speed;
    const vy = Math.sin(angle)*speed;
    const size = Math.random()*2+1;
    const color = ['white','yellow','orange'][Math.floor(Math.random()*3)];
    particles.push(new Particle(width/2, height/2, vx, vy, size, color, true));
  }
}

// Função para criar galáxias
function createGalaxy(cx, cy, arms, particlesPerArm, radius){
  for(let i=0;i<arms;i++){
    for(let j=0;j<particlesPerArm;j++){
      const angle = (j/particlesPerArm)*Math.PI*2 + (i*2*Math.PI/arms);
      const r = (j/particlesPerArm)*radius;
      const x = cx + r*Math.cos(angle);
      const y = cy + r*Math.sin(angle);
      const color = `hsl(${Math.random()*360},80%,70%)`;
      const p = new Particle(x, y, 0, 0, 2, color, true);
      particles.push(p);
    }
  }
}

// Função para criar nebulosas
function createNebula(cx, cy, radius, color){
  nebulas.push({cx, cy, radius, color, phase:Math.random()*Math.PI*2});
}

// Função para animar nebulosas
function drawNebulas(){
  nebulas.forEach(n=>{
    const grd = ctx.createRadialGradient(n.cx,n.cy,0,n.cx,n.cy,n.radius);
    grd.addColorStop(0, n.color);
    grd.addColorStop(1, 'transparent');
    ctx.fillStyle = grd;
    ctx.globalAlpha = 0.5 + 0.5*Math.sin(Date.now()/3000 + n.phase);
    ctx.beginPath();
    ctx.arc(n.cx,n.cy,n.radius,0,Math.PI*2);
    ctx.fill();
    ctx.globalAlpha = 1;
  });
}

// Função principal de animação
function animate(){
  ctx.clearRect(0,0,width,height);
  drawNebulas();
  particles.forEach(p=>{
    p.update();
    p.draw();
  });
  requestAnimationFrame(animate);
}

// Inicialização do universo
createInitialParticles(500); // partículas do Big Bang
setTimeout(()=>{ createInitialParticles(1000); },3000); // inflação rápida
setTimeout(()=>{ createGalaxy(width*0.3,height*0.4,3,80,180); createGalaxy(width*0.7,height*0.6,4,100,230); },8000);
setTimeout(()=>{ createNebula(width*0.5,height*0.3,150,'rgba(255,0,150,0.3)');
                  createNebula(width*0.6,height*0.6,180,'rgba(0,200,255,0.3)');
                  createNebula(width*0.3,height*0.5,130,'rgba(0,255,100,0.3)');
                  createNebula(width*0.4,height*0.7,160,'rgba(255,100,50,0.3)'); },12000);

// Zoom e pan cinematográficos
let scale = 1, offsetX = 0, offsetY = 0;
function animateZoom(){
  scale += 0.0005;
  offsetX -= 0.1;
  offsetY -= 0.05;
  ctx.setTransform(scale,0,0,scale,offsetX,offsetY);
  requestAnimationFrame(animateZoom);
}

animate();
animateZoom();
</script>
</body>
</html>
